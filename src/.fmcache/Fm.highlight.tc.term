#code #ix0 #ix1 #col #row #lft #lin #res !spa = +3; (((code #code String) (((Fm.highlight.end col) row) ((List.reverse String) res))) #code.head #code.tail (((((U16.eql code.head) '\u{A}') # String) !stp = (((((Maybe.extract Nat) lft) Bool) Bool.false) Nat.is_zero); (((stp # String) (((Fm.highlight.end col) row) ((List.reverse String) res))) !siz = (Nat.succ (Nat.double spa)); !lft = (((ix1 #ix1 (Maybe Nat)) (((lft #lft (Maybe Nat)) ((Maybe.some Nat) spa)) #lft.value ((Maybe.some Nat) (Nat.pred lft.value)))) #ix1.pred lft); !ix0 = (Nat.pred ix0); !ix1 = (Nat.pred ix1); !col = +0; !row = (Nat.succ row); !res = (((List.cons String) (String.reverse lin)) res); !lin = (String.reverse (String.flatten (((List.cons String) (((String.pad_left +4) ' ') (Nat.show row))) (((List.cons String) " | ") (List.nil String))))); ((((((((Fm.highlight.tc code.tail) ix0) ix1) col) row) lft) lin) res))) !chr = ((String.cons code.head) String.nil); !chr = (((((Bool.and (Nat.is_zero ix0)) (Bool.not (Nat.is_zero ix1))) # String) (String.reverse ((Fm.color "31") ((Fm.color "4") chr)))) chr); !res = (((((Nat.eql ix0) +1) # (List String)) (((List.take String) spa) res)) res); !ix0 = (Nat.pred ix0); !ix1 = (Nat.pred ix1); !col = (Nat.succ col); !lin = (String.flatten (((List.cons String) chr) (((List.cons String) lin) (List.nil String)))); ((((((((Fm.highlight.tc code.tail) ix0) ix1) col) row) lft) lin) res)))
Web.Kaelin.Entity.creature.damage(damage: I32, entity: Web.Kaelin.Entity): Web.Kaelin.Entity
  case entity {
    creature: 
      def new_hp = I32.max(I32.sub(entity.hp, damage), +0#32)
      Web.Kaelin.Entity.creature(entity.player, entity.hero, new_hp)
  } default entity